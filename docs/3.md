- pod - аналог контейнера в мире кубера, но под может содержать несколько контейнеров
- кластер - ноды + мастер, чтобы управлять ими
- нода - виртуалка для поднятия контейнеров
- deployment - мониторит поды, следит за их работой и перезапускает в случае падения, балансировка, кол-во контейнеров, обновление кода в контейнере (создавая копии параллельно)
- service - интерфейс, с помощью корого можно общаться с сетом контейнров

Конфиг в кубере
- yaml
- описывает все
- эти файлы храним рядом с кодом - это дока

Спека пода
- apiVersion - версия используемых объектов k8s
- kind: pod - тип объекта, который мы создаем
- metadata - мета (например, имя пода)
- spec - основная конфигурация (image, name конкретного контейнера)

Команды doker
- docker build -t name/imageName .
- docker run [image]
- docker run -it [image] [cmd]
- docker ps
- docker exec -it [image] [cmd]
- docker logs [container]

Команды kuber
- kubectl get pods
- kubectl exec -it [pod] [cmd]
- kubectl logs [pod]
- kubectl delete pod [pod]
- kubectl apply -f [file]
- kubectl describe pod [pod]

Конфик депла

- kind: Deployment
- spec: 
 - replicas: 1
 - selector: matchLabels: app: appName - поиск подов по селектору, где app - это ключ, может быть другим
 - template: metadata: labels: app: appName - label - это имя, по которому мы будем искать поды в депле.
 - template: spec: containers: _-name: posts image: name/appName:version_

- Команды депла, как у пода. Подставляем deployment
- обращаемся к latest тегу в конфиге депла

Перезапуск депла с последней версией image:
kubectl rollout restart deployment [depl_name]

Сервисы

Типы:
- Cluster IP - простой ip для запоминания
- Node Port - доступ извне кластера для дева
- Load Balancer - доступ извне. для прода
- External Name - CNAME

Конфиг NodePort

- kind: Service
- spec: type: NodePort
 - selector: app: appName
 - ports: _-name: appName protocol: TCP port: 4000 targetPort: 4000_
